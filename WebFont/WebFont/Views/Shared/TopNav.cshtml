<!-- Header -->
<header class="header navbar navbar-expand-md py-4">
    <div class="container">
        <a href="index.html" class="fs-3 fw-bold">MyBook</a>

        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#header-navbar" aria-controls="header-navbar" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="header-navbar">
            <ul class="custom-navbar-link navbar-nav ms-auto mt-4 mt-md-0">
                <li class="mt-3 mt-md-0 me-2 me-lg-4 active"><a class="p-2" href="index.html">Home</a></li>
                <li class="mt-3 mt-md-0 me-2 me-lg-4"><a class="p-2" href="~/Library/Index">Libarary</a></li>
                <li class="mt-3 mt-md-0 me-2 me-lg-4"><a class="p-2" href="about.html">About us</a></li>
                <li class="mt-3 mt-md-0 me-2 me-lg-4"><a class="p-2" href="">Contact us</a></li>
            </ul>

            <ul class="navbar-nav mt-2 mt-md-0 fs-5">
                <div class="user" id="user-controls">
                    <div id="user-button" class="user__button w-100 h-100" onclick="toggleUserNav()">
                        <i class="user__button-icon fa-solid fa-user text-light"></i>
                    </div>

                    <div class="user__nav" id="user-nav" style="display: none;">
                        <a href="">Tài khoản</a>
                        <a href="">Trợ giúp</a>
                        <button id="logout" class="logout"" onclick="logout()">Đăng xuất</button>
                    </div>
                </div>
            </ul>
        </div>
    </div>
</header>

<!--<div class="header-margin"></div>-->

<!-- Pop up to show notifications -->
<!--<div id="notify" class="">
    <div class="notify-status px-3 px-md-4 fs-1 fs-md-0">
        <i class="fa-solid fa-circle-check"></i>
        <i class="fa-solid fa-bug"></i>
        <i class="fa-solid fa-triangle-exclamation"></i>
        <i class="fa-regular fa-comment-dots"></i>
    </div>

    <div class="notify-content">
        <div id="notify-title">This is title</div>
        <div id="notify-message">This is a example message.</div>
    </div>

    <div id="notify-close-button" class="click px-2 px-md-3 fs-3 fs-md-2">
        <i class="w-75 p-3 text-secondary fa-solid fa-xmark"></i>
    </div>
</div>-->

<!-- Loading animation -->
<!--<div id="popup-loader">
    <div class="circle"></div>
</div>-->

<!-- Pop up form input -->
<!--<div class="popup" id="popup">
    <div class="popup-wrapper">
        <button id="popup-close-button"><span class="fa-solid fa-xmark"></span></button>
        <div id="popup-content" class="popup-content"></div>
    </div>
</div>-->
<script>
    function isAuthenticated() {
        var cookieName = "@FormsAuthentication.FormsCookieName";
        var cookies = document.cookie.split(';');
        for (var i = 0; i < cookies.length; i++) {
            var cookie = cookies[i];
            while (cookie.charAt(0) == ' ') {
                cookie = cookie.substring(1);
            }
            if (cookie.indexOf(cookieName) == 0) {
                return true;
            }
        }
        return false;
    }

    function toggleUserNav() {
        if (!isAuthenticated()) {
            window.location.href = '/Account/Login';
            console.log("User is not authenticated.");
        } else {
            console.log("User is authenticated.");
            var userNav = document.getElementById("user-nav");
            console.log(userNav.style.display);
            userNav.style.display = "block";
            console.log(userNav.style.display);
        }
    }
</script>

